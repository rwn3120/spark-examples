{"paragraphs":[{"text":"%md # Run SQL over CSV file demo\n\nInstructions:\n1) load dependencies (run `Load dependencies` paragraph)\n2) load CSV (run `Load CSV` paragraph)\n3) run SQL paragraphs","user":"anonymous","dateUpdated":"2018-10-30T11:31:30+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true},"editorMode":"ace/mode/markdown","editorHide":false,"tableHide":false},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<h1>Run SQL over CSV file demo</h1>\n<p>Instructions:<br/>1) load dependencies (run <code>Load dependencies</code> paragraph)<br/>2) load CSV (run <code>Load CSV</code> paragraph)<br/>3) run SQL paragraphs</p>\n</div>"}]},"apps":[],"jobName":"paragraph_1540898860901_686030778","id":"20181030-112740_1834225707","dateCreated":"2018-10-30T11:27:40+0000","dateStarted":"2018-10-30T11:31:30+0000","dateFinished":"2018-10-30T11:31:30+0000","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:10139"},{"title":"Load dependencies","text":"%dep\nz.reset\nz.load(\"com.databricks:spark-csv_2.11:1.5.0\")","user":"anonymous","dateUpdated":"2018-10-30T11:31:30+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"editorMode":"ace/mode/scala","title":true,"editorHide":false},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1540887189854_399483303","id":"20181030-081309_1755264215","dateCreated":"2018-10-30T08:13:09+0000","dateStarted":"2018-10-30T11:31:30+0000","dateFinished":"2018-10-30T11:31:30+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:10140"},{"title":"Load CSV","text":"import org.apache.commons.io.IOUtils\nimport java.net.URL\nimport java.nio.charset.Charset\n\nval gamesDF = sqlContext.read.\n    format(\"com.databricks.spark.csv\").     \n    option(\"header\", \"true\").               // Use first line of all files as header\n    option(\"inferSchema\", \"true\").          // Automatically infer data types\n    load(\"/data/games.csv\")                 // Set source\n\n// create view games\ngamesDF.createOrReplaceTempView(\"games\")","user":"anonymous","dateUpdated":"2018-10-30T11:33:57+0000","config":{"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/scala","fontSize":9,"results":{},"enabled":true,"title":true,"editorHide":false},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"import org.apache.commons.io.IOUtils\nimport java.net.URL\nimport java.nio.charset.Charset\ngamesDF: org.apache.spark.sql.DataFrame = [platforms_mac: boolean, pc_requirements_recommended: string ... 25 more fields]\n"}]},"apps":[],"jobName":"paragraph_1540886268871_645296160","id":"20181029-214402_2117766316","dateCreated":"2018-10-30T07:57:48+0000","dateStarted":"2018-10-30T11:31:30+0000","dateFinished":"2018-10-30T11:31:33+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:10141"},{"text":"%md ## Results","user":"anonymous","dateUpdated":"2018-10-30T11:31:30+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true},"editorMode":"ace/mode/markdown","editorHide":true,"tableHide":false},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<h2>Results</h2>\n</div>"}]},"apps":[],"jobName":"paragraph_1540894467124_394340803","id":"20181030-101427_1950524665","dateCreated":"2018-10-30T10:14:27+0000","dateStarted":"2018-10-30T11:31:30+0000","dateFinished":"2018-10-30T11:31:30+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:10142"},{"title":"Linux Vs. Windows Vs. MAC","text":"%sql\nSELECT (SELECT count(steam_appid) FROM games WHERE platforms_mac = true) AS macOS, (SELECT count(steam_appid) FROM games WHERE platforms_linux = true) AS linux, (SELECT count(steam_appid) FROM games WHERE platforms_windows = true) AS windows","user":"anonymous","dateUpdated":"2018-10-30T11:31:30+0000","config":{"colWidth":3,"enabled":true,"results":{"0":{"graph":{"mode":"multiBarChart","height":276,"optionOpen":false,"setting":{"pieChart":{},"multiBarChart":{}},"commonSetting":{},"keys":[],"groups":[],"values":[{"name":"linux","index":1,"aggr":"sum"},{"name":"windows","index":2,"aggr":"sum"},{"name":"macOS","index":0,"aggr":"sum"}]},"helium":{}}},"editorSetting":{"language":"sql"},"editorMode":"ace/mode/sql","editorHide":true,"title":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TABLE","data":"macOS\tlinux\twindows\n38\t33\t77\n"}]},"apps":[],"jobName":"paragraph_1540893878397_-1759169955","id":"20181030-100438_233058081","dateCreated":"2018-10-30T10:04:38+0000","dateStarted":"2018-10-30T11:31:30+0000","dateFinished":"2018-10-30T11:31:33+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:10143"},{"title":"Most popular games","text":"%sql \nSELECT name, current_players FROM Games ORDER BY current_players DESC LIMIT 10\n","user":"anonymous","dateUpdated":"2018-10-30T11:31:30+0000","config":{"editorSetting":{"language":"sql","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":9,"editorMode":"ace/mode/sql","fontSize":9,"results":{"0":{"graph":{"mode":"pieChart","height":275,"optionOpen":false,"setting":{"multiBarChart":{"stacked":false}},"commonSetting":{},"keys":[{"name":"name","index":0,"aggr":"sum"}],"groups":[],"values":[{"name":"current_players","index":1,"aggr":"sum"}]},"helium":{}}},"enabled":true,"editorHide":true,"title":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TABLE","data":"name\tcurrent_players\nPLAYERUNKNOWN'S BATTLEGROUNDS\t490290\nDota 2\t372705\nCounter-Strike: Global Offensive\t197699\nTeam Fortress 2\t54565\nTom Clancy's Rainbow Six® Siege\t33645\nWarframe\t29792\nGrand Theft Auto V\t28039\nRust\t19516\nARK: Survival Evolved\t18345\nMONSTER HUNTER: WORLD\t17568\n"}]},"apps":[],"jobName":"paragraph_1540886268878_1474656733","id":"20181030-061730_1829559647","dateCreated":"2018-10-30T07:57:48+0000","dateStarted":"2018-10-30T11:31:33+0000","dateFinished":"2018-10-30T11:31:33+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:10144"},{"text":"%spark","user":"anonymous","dateUpdated":"2018-10-30T11:31:31+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"scala"},"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1540886268889_-1599027607","id":"20181030-072209_1878640414","dateCreated":"2018-10-30T07:57:48+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:10145"}],"name":"sql-csv","id":"2DUJKVUK8","angularObjects":{"2DWBR4VCA:shared_process":[],"2DW2BS79V:shared_process":[],"2DU4TZ7XR:shared_process":[],"2DVQTZE24:shared_process":[],"2DVEAQVQC:shared_process":[],"2DW8BWFY5:shared_process":[],"2DUZUP2P4:shared_process":[],"2DUPANRAR:shared_process":[],"2DWNQ7UH7:shared_process":[],"2DTBXU8J8:shared_process":[],"2DU3VBSZH:shared_process":[],"2DTXHJ2HA:shared_process":[],"2DVU8AEWS:shared_process":[],"2DUSJ26M4:shared_process":[],"2DTW7U68Z:shared_process":[],"2DUGP5BXF:shared_process":[],"2DT7F45DX:shared_process":[],"2DWE5G4TC:shared_process":[],"2DVXKH843:shared_process":[]},"config":{"isZeppelinNotebookCronEnable":false,"looknfeel":"default","personalizedMode":"false"},"info":{}}