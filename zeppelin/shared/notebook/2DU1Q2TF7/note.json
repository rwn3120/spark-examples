{"paragraphs":[{"text":"%md \n# Run SQL over CSV file demo\n\nInstructions:\n1) load dependencies (run `Load dependencies` paragraph)\n2) load CSV (run `Load CSV` paragraph)\n3) run SQL paragraphs","user":"anonymous","dateUpdated":"2018-10-31T12:01:36+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true},"colWidth":12,"editorMode":"ace/mode/markdown","editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<h1>Run SQL over CSV file demo</h1>\n<p>Instructions:<br/>1) load dependencies (run <code>Load dependencies</code> paragraph)<br/>2) load CSV (run <code>Load CSV</code> paragraph)<br/>3) run SQL paragraphs</p>\n</div>"}]},"apps":[],"jobName":"paragraph_1540985957492_-1655154759","id":"20181030-112740_1834225707","dateCreated":"2018-10-31T11:39:17+0000","dateStarted":"2018-10-31T11:55:28+0000","dateFinished":"2018-10-31T11:55:28+0000","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:24119"},{"title":"Load dependencies","text":"%dep\nz.reset\nz.load(\"com.databricks:spark-csv_2.11:1.5.0\")","user":"anonymous","dateUpdated":"2018-10-31T11:55:36+0000","config":{"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/scala","fontSize":9,"editorHide":false,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"res0: org.apache.zeppelin.dep.Dependency = org.apache.zeppelin.dep.Dependency@5872a41c\n"}]},"apps":[],"jobName":"paragraph_1540985957494_-1654385262","id":"20181030-081309_1755264215","dateCreated":"2018-10-31T11:39:17+0000","dateStarted":"2018-10-31T11:55:23+0000","dateFinished":"2018-10-31T11:55:34+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:24120"},{"title":"Load CSV","text":"import org.apache.commons.io.IOUtils\nimport java.net.URL\nimport java.nio.charset.Charset\n\nval gamesDF = sqlContext.read.\n    format(\"com.databricks.spark.csv\").     \n    option(\"header\", \"true\").               // Use first line of all files as header\n    option(\"inferSchema\", \"true\").          // Automatically infer data types\n    load(\"/data/games.csv\")                 // Set source\n\n// create view games\ngamesDF.createOrReplaceTempView(\"games\")","user":"anonymous","dateUpdated":"2018-10-31T11:55:37+0000","config":{"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/scala","fontSize":9,"editorHide":false,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1540985957494_-1654385262","id":"20181029-214402_2117766316","dateCreated":"2018-10-31T11:39:17+0000","dateStarted":"2018-10-31T11:40:53+0000","dateFinished":"2018-10-31T11:40:58+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:24121"},{"text":"%md \n## Results","user":"anonymous","dateUpdated":"2018-10-31T12:01:31+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true},"colWidth":12,"editorMode":"ace/mode/markdown","editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<h2>Results</h2>\n</div>"}]},"apps":[],"jobName":"paragraph_1540985957496_-1656693755","id":"20181030-101427_1950524665","dateCreated":"2018-10-31T11:39:17+0000","dateStarted":"2018-10-31T12:01:31+0000","dateFinished":"2018-10-31T12:01:31+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:24122"},{"title":"Linux Vs. Windows Vs. MAC","text":"%sql\nSELECT (SELECT count(steam_appid) FROM games WHERE platforms_mac = true) AS macOS, (SELECT count(steam_appid) FROM games WHERE platforms_linux = true) AS linux, (SELECT count(steam_appid) FROM games WHERE platforms_windows = true) AS windows","user":"anonymous","dateUpdated":"2018-10-31T12:01:16+0000","config":{"editorSetting":{"language":"sql"},"colWidth":4,"editorMode":"ace/mode/sql","editorHide":true,"title":true,"results":{"0":{"graph":{"mode":"multiBarChart","height":276,"optionOpen":false,"setting":{"pieChart":{},"multiBarChart":{}},"commonSetting":{},"keys":[],"groups":[],"values":[{"name":"linux","index":1,"aggr":"sum"},{"name":"windows","index":2,"aggr":"sum"},{"name":"macOS","index":0,"aggr":"sum"}]},"helium":{}}},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1540985957496_-1656693755","id":"20181030-100438_233058081","dateCreated":"2018-10-31T11:39:17+0000","dateStarted":"2018-10-31T11:41:03+0000","dateFinished":"2018-10-31T11:41:06+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:24123"},{"title":"Most popular games","text":"%sql \nSELECT name, current_players FROM Games ORDER BY current_players DESC LIMIT 10\n","user":"anonymous","dateUpdated":"2018-10-31T12:01:21+0000","config":{"editorSetting":{"language":"sql","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":8,"editorMode":"ace/mode/sql","fontSize":9,"editorHide":true,"title":true,"results":{"0":{"graph":{"mode":"pieChart","height":275,"optionOpen":false,"setting":{"multiBarChart":{"stacked":false}},"commonSetting":{},"keys":[{"name":"name","index":0,"aggr":"sum"}],"groups":[],"values":[{"name":"current_players","index":1,"aggr":"sum"}]},"helium":{}}},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1540985957496_-1656693755","id":"20181030-061730_1829559647","dateCreated":"2018-10-31T11:39:17+0000","dateStarted":"2018-10-31T11:41:08+0000","dateFinished":"2018-10-31T11:41:08+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:24124"},{"text":"%spark","user":"anonymous","dateUpdated":"2018-10-31T11:40:12+0000","config":{"colWidth":12,"editorMode":"ace/mode/scala","results":{},"enabled":true,"editorSetting":{"language":"scala"}},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1540985957497_-1657078504","id":"20181030-072209_1878640414","dateCreated":"2018-10-31T11:39:17+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:24125"}],"name":"sql-csv","id":"2DU1Q2TF7","angularObjects":{"2DT7WSABA:shared_process":[],"2DVHPJAXA:shared_process":[],"2DT88ZBHB:shared_process":[],"2DVUQ8V4Y:shared_process":[],"2DUZEW5VN:shared_process":[],"2DU96C6ZG:shared_process":[],"2DWF1Q933:shared_process":[],"2DWE73REA:shared_process":[],"2DW1YQAFV:shared_process":[],"2DWYJX45Z:shared_process":[],"2DW66Y2F4:shared_process":[],"2DW6HVT7P:shared_process":[],"2DTR1MZJ9:shared_process":[],"2DUJQJPYR:shared_process":[],"2DU163718:shared_process":[],"2DU88CBNC:shared_process":[],"2DWM3ZJHE:shared_process":[],"2DU7K7PYQ:shared_process":[],"2DT6PM8TJ:shared_process":[]},"config":{"looknfeel":"default","personalizedMode":"false"},"info":{}}